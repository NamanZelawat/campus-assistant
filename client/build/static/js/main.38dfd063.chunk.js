(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a(175)},114:function(e,t,a){},169:function(e,t,a){e.exports=a.p+"static/media/Wallpaper_2.109bf96c.jpg"},170:function(e,t,a){e.exports=a.p+"static/media/Wallpaper_3.c511a19b.jpg"},171:function(e,t,a){e.exports=a.p+"static/media/Wallpaper_1.24c5e005.jpg"},174:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(31),l=a.n(o),s=(a(114),a(108)),c=a(16),i=a(18),u=a(17),m=a(11),d=a(15),h=a(19),p=a(99),E=a(176),g=a(177),f=a(178),b=a(179),w=a(180),v=a(181),N=a(210),k=a(186),y=a(187),x=a(188),O=a(189),S=a(190),M=a(191),L=a(182),C=a(183),D=a(184),j=a(185),P=a(192),I=a(193),F=a(211),_=a(10),T=a(6),R=function(e){return e&&e.length},A=function(e){return function(t){return!t||t.length<=e}},U=function(e){return function(t){return t&&t.length>=e}},q=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},B=function(e){return!isNaN(Number(e))};function V(e){return!1===e.isSignedIn?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(p.a,{color:"warning",outline:!0,onClick:e.toggleRegister},n.a.createElement("span",{className:"fa fa-user-plus fa-lg"})," Register")):n.a.createElement(n.a.Fragment,null)}var G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isNavOpen:!1,isModalOpen:!1,isRegisterOpen:!1,dropdownOpen:!1},a.toggleModal=a.toggleModal.bind(Object(m.a)(a)),a.toggleNav=a.toggleNav.bind(Object(m.a)(a)),a.handleLogin=a.handleLogin.bind(Object(m.a)(a)),a.handleLogout=a.handleLogout.bind(Object(m.a)(a)),a.toggleRegister=a.toggleRegister.bind(Object(m.a)(a)),a.toggle=a.toggle.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"toggleNav",value:function(){window.innerWidth<1200&&this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"toggleRegister",value:function(e){this.setState({isRegisterOpen:!this.state.isRegisterOpen})}},{key:"handleLogin",value:function(e){this.toggleModal(),this.props.loginUser({username:this.username.value,password:this.password.value}),e.preventDefault()}},{key:"handleLogout",value:function(){this.props.logoutUser()}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"render",value:function(){var e,t=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{color:"danger",dark:!0,expand:"xl",fixed:"top"},n.a.createElement("div",{className:"container"},n.a.createElement(g.a,{onClick:this.toggleNav}),n.a.createElement(f.a,{className:"mr-auto text-warning brand",href:"/home"},"Click ISM"),n.a.createElement(b.a,{isOpen:this.state.isNavOpen,navbar:!0},n.a.createElement(w.a,{navbar:!0},n.a.createElement(v.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/home"},n.a.createElement("span",{className:"fa fa-home fa-lg"})," Home")),n.a.createElement(L.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle},n.a.createElement(C.a,{color:"Warning"},n.a.createElement("div",{className:"text-warning"},n.a.createElement("span",{className:"fa fa-gift fa-lg"})," Products \xa0 ",n.a.createElement("i",{className:"fa fa-caret-down fa-sm","aria-hidden":"true"}))),n.a.createElement(D.a,null,n.a.createElement(j.a,{onClick:this.toggleNav,tag:_.b,to:"/books"},"Books"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:_.b,to:"/bicycles"},"Bicycles"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:_.b,to:"/stationary"},"Stationary"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:_.b,to:"/electronics"},"Electronic Gadgets"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:_.b,to:"/clothes"},"Clothes"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:_.b,to:"/sports"},"Sports"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:_.b,to:"/others"},"Others"))),n.a.createElement(v.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/search"},n.a.createElement("span",{className:"fa fa-search fa-lg"})," Search")),this.props.auth.isAuthenticated?n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{onClick:this.toggleNav,className:"ml-2"},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/profile"},n.a.createElement("span",{className:"fa fa-user-circle-o fa-lg"})," My Profile")),n.a.createElement(v.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/bids"},n.a.createElement("span",{className:"fa fa-heart fa-lg"})," My favorites"))):n.a.createElement("div",null),this.props.auth.isAuthenticated&&!this.props.auth.userinfo.admin?n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/upload_product"},n.a.createElement("span",{className:"fa fa-upload fa-lg"})," Upload item")),n.a.createElement(v.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/uploads"},n.a.createElement("span",{className:"fa fa-list fa-lg"})," My uploads"))):n.a.createElement("div",null),this.props.auth.isAuthenticated&&this.props.auth.userinfo.admin?n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{onClick:this.toggleNav,className:"ml-2"},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/pending"},n.a.createElement("span",{className:"fa fa-clock-o fa-lg"})," Products pending")),n.a.createElement(v.a,{onClick:this.toggleNav,className:"ml-2"},n.a.createElement(_.c,{className:"nav-link text-warning",to:"/stats"},n.a.createElement("span",{className:"fa fa-info-circle fa-lg"})," Stats"))):n.a.createElement("div",null)),n.a.createElement(w.a,{className:"ml-auto",navbar:!0},n.a.createElement(v.a,null,this.props.auth.isAuthenticated?n.a.createElement("div",null,n.a.createElement("div",{className:"navbar-text text-warning mr-1"},this.props.auth.user.username),n.a.createElement(p.a,{outline:!0,color:"warning",onClick:this.handleLogout},n.a.createElement("span",{className:"fa fa-sign-out fa-lg"})," Logout",this.props.auth.isLoading?n.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-fw"}):null)):n.a.createElement(p.a,{outline:!0,color:"warning",onClick:this.toggleModal},n.a.createElement("span",{className:"fa fa-sign-in fa-lg"})," Login",this.props.auth.isLoading?n.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-fw"}):null),n.a.createElement(V,{isSignedIn:this.props.auth.isAuthenticated,toggleRegister:function(){t.toggleRegister()}})))))),n.a.createElement(N.a,{isOpen:!this.props.auth.isAuthenticated&&this.state.isModalOpen,toggle:this.toggleModal},n.a.createElement(k.a,{toggle:this.toggleModal},"Sign In"),n.a.createElement(y.a,null,n.a.createElement(x.a,{onSubmit:this.handleLogin},n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"username"},"Username"),n.a.createElement(M.a,{type:"text",id:"username",name:"username",innerRef:function(e){return t.username=e}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"password"},"Password"),n.a.createElement(M.a,{type:"password",id:"password",name:"password",innerRef:function(e){return t.password=e}})),n.a.createElement(p.a,{type:"submit",value:"submit",color:"warning"},"Login")))),n.a.createElement(N.a,{isOpen:this.state.isRegisterOpen,toggle:this.toggleRegister},n.a.createElement(k.a,{toggle:this.toggleRegister},"Register"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{model:"user",onSubmit:function(e){t.toggleRegister(),t.props.registerUser({username:e.username,password:e.password,email:e.email,room:e.room,block:e.block,hostel:e.hostel,phone:e.phone,showroom:e.showroom,showfacebook:e.showfacebook,showphone:e.showphone,facebookProfile:e.facebookProfile,firstname:e.firstname,lastname:e.lastname})}},n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"username"},"Username"),n.a.createElement(T.Control.text,{model:".username",id:"username",name:"username",className:"form-control",placeholder:"Username",validators:{required:R,minLength:U(3),maxLength:A(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".username",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"password"},"Password"),n.a.createElement(T.Control.password,{model:".password",id:"password",name:"password",className:"form-control",placeholder:"password",validators:{required:R,minLength:U(6),maxLength:A(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".password",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"firstname"},"First Name"),n.a.createElement(T.Control.text,{model:".firstname",id:"firstname",name:"firstname",className:"form-control",placeholder:"firstname",validators:{required:R,minLength:U(3),maxLength:A(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".firstname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"lastname"},"Last Name"),n.a.createElement(T.Control.text,{model:".lastname",id:"lastname",name:"lastname",className:"form-control",placeholder:"lastname",validators:{required:R,minLength:U(3),maxLength:A(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".lastname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"hostel"},"Hostel"),n.a.createElement(T.Control.select,{model:".hostel",id:"hostel",className:"form-control",defaultValue:"Jasper"},n.a.createElement("option",null,"Jasper")," ",n.a.createElement("option",null,"Amber"),n.a.createElement("option",null,"Topaz")," ",n.a.createElement("option",null,"Sapphire"),n.a.createElement("option",null,"Diamond")," ",n.a.createElement("option",null,"Emerald"),n.a.createElement("option",null,"Ruby")," ",n.a.createElement("option",null,"Rosaline"))),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"block"},"Block"),n.a.createElement(T.Control.select,{model:".block",id:"block",className:"form-control",defaultValue:"A"},n.a.createElement("option",null,"A")," ",n.a.createElement("option",null,"B"),n.a.createElement("option",null,"C")," ",n.a.createElement("option",null,"D"))),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"room"},"Room No."),n.a.createElement(T.Control.text,{model:".room",id:"room",name:"room",className:"form-control",placeholder:"room",validators:{required:R,maxLength:A(4),isNumber:B}}),n.a.createElement(T.Errors,{className:"text-danger",model:".room",show:"touched",messages:{required:"Required",maxLength:" Must be 4 characters or less",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"email"},"E-mail"),n.a.createElement(T.Control.text,{model:".email",id:"email",name:"email",className:"form-control",placeholder:"email",validators:{required:R,validEmail:q}}),n.a.createElement(T.Errors,{className:"text-danger",model:".email",show:"touched",messages:{required:"Required",validEmail:" Enter a valid email"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"phone"},"Contact No."),n.a.createElement(T.Control.text,{model:".phone",id:"phone",name:"phone",className:"form-control",placeholder:"phone",validators:{required:R,minLength:U(10),maxLength:A(10),isNumber:B}}),n.a.createElement(T.Errors,{className:"text-danger",model:".phone",show:"touched",messages:{required:"Required",minLength:" Should be a valid 10 digit no.",maxLength:" Donot write country code",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(P.a,null,n.a.createElement(I.a,{md:12},n.a.createElement(S.a,{htmlFor:"facebookProfile"},"Facebook Profile Link (Optional)")),n.a.createElement(I.a,{md:6},n.a.createElement(F.a,{addonType:"prepend"},"https://www.facebook.com/")),n.a.createElement(I.a,{md:6},n.a.createElement(T.Control.text,{model:".facebookProfile",id:"facebookProfile",name:"facebookProfile",className:"form-control",placeholder:"facebookProfile",validators:{minLength:(e=15,function(t){return!t||t.length>=e}),maxLength:A(30)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".facebookProfile",show:"touched",messages:{minLength:" Should have at least 15 characters, otherwise donot enter this field",maxLength:" Should not exceed 30 characters"}})))),n.a.createElement(P.a,null,n.a.createElement(S.a,null," Check the info. you want to keep public :")),n.a.createElement(P.a,null,n.a.createElement(I.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showroom",id:"showroom",name:"showroom",className:"form-control"}),n.a.createElement(S.a,{check:!0}," Room Info"))),n.a.createElement(I.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showphone",id:"showphone",name:"showphone",className:"form-control"}),n.a.createElement(S.a,{check:!0,htmlFor:"showphone"}," Contact No."))),n.a.createElement(I.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showfacebook",id:"showfacebook",name:"showfacebook",className:"form-control"}),n.a.createElement(S.a,{check:!0,htmlFor:"showfacebook"}," Facebook Profile")))),n.a.createElement("br",null),n.a.createElement(O.a,null,n.a.createElement(p.a,{type:"submit",value:"submit",color:"warning"},"Sign Up"))))))}}]),t}(r.Component),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("p",{className:"footer",align:"center"},"\xa9 Copyright 2019 Chirag Jain IIT (ISM) ")}}]),t}(r.Component),z=a(194),Y=a(195),W=a(196),Z=a(197),H=a(198),Q=a(199),$=a(200),X=a(106),K=a(201),ee=a(202),te=a(203),ae=a(204),re=function(){return n.a.createElement("div",{className:"col-12 heading justify-content-center loading text-warning"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h1",{align:"center"},n.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-warning"}),n.a.createElement("br",null),n.a.createElement("br",null),"Loading ...."))},ne=[{id:1,altText:"Auction",src:a(169),caption:"First online bidding platform to sell your stuff"},{id:2,altText:"Slide 2",src:a(170),caption:"Just a click away to buy your favorites"},{id:3,altText:"Slide 3",src:a(171),caption:".......................Sell your stuff and earn money"}],oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={activeIndex:0},a.next=a.next.bind(Object(m.a)(a)),a.previous=a.previous.bind(Object(m.a)(a)),a.goToIndex=a.goToIndex.bind(Object(m.a)(a)),a.onExiting=a.onExiting.bind(Object(m.a)(a)),a.onExited=a.onExited.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===ne.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?ne.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,a=this.props.products.slice(0,3).map(function(e){return n.a.createElement("div",{className:"col-12 col-md-4"},n.a.createElement(z.a,null,n.a.createElement(Y.a,{top:!0,width:"100%",height:"200",src:"/uploads/"+e.images[0].slice(22)}),n.a.createElement(W.a,{className:"text-black"},n.a.createElement(Z.a,{className:"text-danger"},n.a.createElement("b",null,e.name)),n.a.createElement(H.a,{className:"text-success"},n.a.createElement("b",null,e.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",e.price," - ",e.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",e.price))),n.a.createElement(Q.a,null,e.description.slice(0,100)+"...."),n.a.createElement($.a,{tag:_.b,to:"/products/"+e._id,className:"text-center"},n.a.createElement(p.a,{className:"button btn-block",color:"info"},n.a.createElement("i",{className:"fa fa-eye fa-lg"})," ","\xa0View details")))))}),r=ne.map(function(t){return n.a.createElement(X.a,{className:"custom-tag",tag:"div",key:t.src,onExiting:e.onExiting,onExited:e.onExited},n.a.createElement("img",{src:t.src,alt:t.altText,className:"d-block mx-auto"}),n.a.createElement(K.a,{captionHeader:t.caption,className:"text-danger",style:{fontWeight:"bold",fontSize:"72"}}))});return n.a.createElement("div",{className:"container align-self-center"},n.a.createElement("div",{className:"heading d-none d-md-block"},n.a.createElement("style",null,".custom-tag {\n                    width: 100%;\n                    max-height: 500px;\n                  }"),n.a.createElement(ee.a,{activeIndex:t,next:this.next,previous:this.previous},n.a.createElement(te.a,{items:ne,activeIndex:t,onClickHandler:this.goToIndex}),r,n.a.createElement(ae.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous,className:"indicator"}),n.a.createElement(ae.a,{direction:"next",directionText:"Next",onClickHandler:this.next,className:"indicator"}))),n.a.createElement("div",{className:"heading row row-content white-text"},n.a.createElement("p",null,"The first website to sell your old as well as new items with bidding allowed, in IIT (ISM). You will find various categories of products here : Stationary, Electronic Gadgets, Bicycles, Books, Clothes, Sports, etc. You will see a list of featured products below, based upon the no. of views "),n.a.createElement("p",null,"So, what are you waiting for, just Register and login to get into the store. Upload your old stuff, kept in your rooms, it may help someone in need. Earn huge profits by allowing auction on your items. Don't miss this opportunity. Just go for it. ")),n.a.createElement("div",{className:"row row-content white-text justify-content-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h3",{align:"center"},"Featured Products")),n.a.createElement("div",{className:"card-deck"},this.props.productsLoading?n.a.createElement(re,null):this.props.productsErrMess?n.a.createElement("h3",null,this.props.productsErrMess):a)))}}]),t}(r.Component),le=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.products.map(function(t){return n.a.createElement("div",{className:"col-12 col-md-4"},n.a.createElement(z.a,null,n.a.createElement(Y.a,{top:!0,width:"100%",height:"200",src:"/uploads/"+t.images[0].slice(22)}),n.a.createElement(W.a,{className:"text-black"},n.a.createElement(Z.a,{className:"text-danger"},n.a.createElement("b",null,t.name," \xa0",e.props.user.userinfo&&e.props.user.userinfo._id===t.owner._id?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{onClick:function(){e.props.changeSelected(t._id),e.props.toggleEditModal()},className:"Option fa fa-pencil"}),"\xa0 \xa0 ",n.a.createElement("span",{onClick:function(){e.props.changeSelected(t._id),e.props.toggleDeleteModal()},className:"Option fa fa-trash"})):n.a.createElement(n.a.Fragment,null))),n.a.createElement(H.a,{className:"text-success"},n.a.createElement("b",null,t.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",t.price," - ",t.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",t.price))),n.a.createElement(Q.a,null,t.description.slice(0,100)+"...."),n.a.createElement($.a,{tag:_.b,to:"/products/"+t._id,className:"text-center"},n.a.createElement(p.a,{className:"button btn-block",color:"info"},n.a.createElement("i",{className:"fa fa-eye fa-lg"})," ","\xa0View details")))))});return n.a.createElement("div",{className:"container full"},n.a.createElement("div",{className:"heading row row-content white-text justify-content-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h3",{align:"center"},this.props.title)),n.a.createElement("div",{className:"card-deck"},this.props.productsLoading?n.a.createElement(re,null):this.props.productsErrMess?n.a.createElement("h3",null,this.props.productsErrMess):t)))}}]),t}(r.Component),se=a(205),ce=a(206),ie=a(207),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:"",price:1e5,cat:["Stationary","Electronic Gadgets","Bicycles","Clothes","Sports","Others","Books"]},a.onChange=a.onChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onChange",value:function(e){var t=this.state.cat,a=-1;if(e.target.checked)t.push(e.target.value);else{for(var r=0;r<t.length;r++)if(t[r]===e.target.value){a=r;break}t.splice(a,1)}this.setState({cat:t})}},{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=["warning","danger","success","info","secondary"],a=new RegExp(this.state.name,"i"),r=this.props.products.map(function(r){var o=e.state.cat.some(function(e){return e===r.cat});return-1!==r.name.search(a)&&r.price<=e.state.price&&o?n.a.createElement(se.a,{key:r._id,className:"text-black"},n.a.createElement(_.b,{to:"/products/".concat(r._id)},n.a.createElement("b",null,"".concat(r.name,"  "))),n.a.createElement(ce.a,{color:t[r.cat.length%5],pill:!0}," ",r.cat),e.props.user.userinfo&&e.props.user.userinfo._id===r.owner._id?n.a.createElement(n.a.Fragment,null,"\xa0 \xa0",n.a.createElement("span",{onClick:function(){e.props.changeSelected(r._id),e.props.toggleEditModal()},className:"Option fa fa-pencil"}),"  ","\xa0   \xa0        ",n.a.createElement("span",{onClick:function(){e.props.changeSelected(r._id),e.props.toggleDeleteModal()},className:"Option fa fa-trash"})):n.a.createElement(n.a.Fragment,null),n.a.createElement("br",null)," ",n.a.createElement("p",{className:"ml-auto text-success"}," ",n.a.createElement("b",null,r.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",r.price," - ",r.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",r.price))),n.a.createElement("p",null,"Owner : ",r.owner.firstname+" "+r.owner.lastname)):n.a.createElement(n.a.Fragment,null)});return this.props.productsLoading?n.a.createElement("div",{className:"container loading white-text"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null))):this.props.productsErrMess?n.a.createElement("div",{className:"container loading white-text"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.productsErrMess)))):n.a.createElement("div",{className:"container loading white-text"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 heading"},n.a.createElement("h3",{align:"center"},"Search your product here : "),n.a.createElement(x.a,null,n.a.createElement(P.a,{form:!0},n.a.createElement(I.a,{md:6},n.a.createElement(O.a,null,n.a.createElement(S.a,{for:"name"},"Name of product"),n.a.createElement(M.a,{type:"name",name:"name",id:"name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})},placeholder:"Enter name of the product"}))),n.a.createElement(I.a,{md:6},n.a.createElement(O.a,null,n.a.createElement(S.a,{for:"price"},"Maximum you can afford"),n.a.createElement(M.a,{type:"price",name:"price",defaultValue:"100000",id:"price",value:this.state.price,onChange:function(t){e.setState({price:isNaN(Number(t.target.value))?1e5:Number(t.target.value)})},placeholder:"Enter name of price"})))),n.a.createElement(P.a,null,n.a.createElement(I.a,{sm:6,md:2},"Category : "," ")),n.a.createElement(O.a,{check:!0},n.a.createElement(P.a,null,n.a.createElement(I.a,{xs:6,md:3},n.a.createElement(S.a,{check:!0,for:"Books"},n.a.createElement(M.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Books",value:"Books",name:"cat"}),"Books")),n.a.createElement(I.a,{xs:6,md:3},n.a.createElement(S.a,{check:!0,for:"Stationary"},n.a.createElement(M.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Stationary",value:"Stationary",name:"cat"}),"Stationary")),n.a.createElement(I.a,{xs:6,md:3},n.a.createElement(S.a,{check:!0,for:"Bicycles"},n.a.createElement(M.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Bicycles",value:"Bicycles",name:"cat"}),"Bicycles")),n.a.createElement(I.a,{xs:6,md:3},n.a.createElement(S.a,{check:!0,for:"Electronic Gadgets"},n.a.createElement(M.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Electronic Gadgets",value:"Electronic Gadgets Science",name:"cat"}),"Electronic Gadgets"))),n.a.createElement(P.a,null,n.a.createElement(I.a,{xs:6,md:3},n.a.createElement(S.a,{check:!0,for:"Clothes"},n.a.createElement(M.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Clothes",value:"Clothes",name:"cat"}),"Clothes")),n.a.createElement(I.a,{xs:6,md:3},n.a.createElement(S.a,{check:!0,for:"Sports"},n.a.createElement(M.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Sports",value:"Sports",name:"cat"}),"Sports")),n.a.createElement(I.a,{xs:6,md:3},n.a.createElement(S.a,{check:!0,for:"Others"},n.a.createElement(M.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Others",value:"Others",name:"cat"}),"Others"))))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement(ie.a,null,r))),n.a.createElement("br",null))}}]),t}(r.Component),me=a(208),de=a(209);function he(e){var t=e.product,a=e.toggleEditModal,r=e.changeSelected,o=e.user;return null!=t?n.a.createElement(z.a,null,n.a.createElement(me.a,{tag:"h3",className:"text-danger"},n.a.createElement("b",null,t.name)," \xa0 \xa0 \xa0\xa0",o.userinfo&&o.userinfo._id===t.owner._id?n.a.createElement("span",{className:"fa fa-pencil Option",onClick:function(){r(t._id),a()}}):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",{className:"ml-auto text-success"},n.a.createElement("b",null,t.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",t.price," - ",t.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",t.price)))),n.a.createElement(W.a,null,n.a.createElement(Q.a,null,n.a.createElement("b",null," Category: ")," ",t.cat," ",n.a.createElement("br",null),n.a.createElement("br",null),t.bid?n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null,"Minimum Increment in bidding price :")," ",n.a.createElement("span",null,"\u20b9")," ",t.incr):n.a.createElement(n.a.Fragment,null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null," Owner : ")," ",n.a.createElement(_.b,{to:"".concat(t._id,"/owner")},t.owner.firstname+" "+t.owner.lastname)," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null," Email of owner : ")," ",t.owner.email," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Descrption: "),n.a.createElement("br",null)," ",t.description," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Approved by admin: "),n.a.createElement("br",null)," ",t.approved?"Yes":"No"," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null," No. of Views: ")," ",n.a.createElement("br",null)," ",t.views," ",n.a.createElement("br",null)),n.a.createElement("br",null)),n.a.createElement(de.a,{className:"text-muted"},n.a.createElement(P.a,null,n.a.createElement(I.a,{md:6},"Created at : ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(Date.parse(t.createdAt)))),n.a.createElement(I.a,{md:6},"Last updated at : ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(Date.parse(t.updatedAt))))))):n.a.createElement("div",null)}var pe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.product&&this.props.user.isAuthenticated&&this.props.increaseView(this.props.product._id,this.props.product.views)}},{key:"render",value:function(){return this.props.isLoading?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null))):this.props.errMess?n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.errMess)))):n.a.createElement("div",{className:"container full"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),"        ",n.a.createElement("br",null),n.a.createElement(he,{product:this.props.product,isAdmin:this.props.isAdmin,toggleEditModal:this.props.toggleEditModal,changeSelected:this.props.changeSelected,user:this.props.user}),n.a.createElement("br",null))))}}]),t}(r.Component),Ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.isLoading?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null))):this.props.errMess?n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.errMess)))):n.a.createElement("div",{className:"container mt-6 home text-center align-self-center"},n.a.createElement("div",{className:"row text-center justify-content-center mt-2"},n.a.createElement("br",null),n.a.createElement(z.a,{className:"heading"},n.a.createElement(me.a,null,n.a.createElement("h3",null,"User Details")),n.a.createElement(W.a,null,n.a.createElement(Q.a,null,n.a.createElement("h5",null," First Name : ","          "+this.props.user.firstname),n.a.createElement("h5",null," Last Name : ","          "+this.props.user.lastname),n.a.createElement("h5",null," Email : ","          "+this.props.user.email),n.a.createElement("h5",null," Username : ","          "+this.props.user.username),this.props.user.showroom?n.a.createElement("h5",null," Address : ","Room No.          "+this.props.user.block+"-"+this.props.user.room+", "+this.props.user.hostel):n.a.createElement(n.a.Fragment,null),this.props.user.showphone?n.a.createElement("h5",null," Contact No. : ","  +91-"+this.props.user.phone):n.a.createElement(n.a.Fragment,null),this.props.user.showfacebook?n.a.createElement("h5",null," Facebook Profile Link : ",n.a.createElement("a",{href:"https://www.facebook.com/"+this.props.facebookProfile},n.a.createElement("span",{className:"fa fa-facebook"}))):n.a.createElement(n.a.Fragment,null))))))}}]),t}(r.Component),ge=function(e){return e&&e.length},fe=function(e){return function(t){return!t||t.length<=e}},be=function(e){return function(t){return t&&t.length>=e}},we=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},ve=function(e){return!isNaN(Number(e))},Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isEditModalOpen:!1,isPasswordModalOpen:!1},a.toggleEditModal=a.toggleEditModal.bind(Object(m.a)(a)),a.togglePasswordModal=a.togglePasswordModal.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"togglePasswordModal",value:function(){this.setState({isPasswordModalOpen:!this.state.isPasswordModalOpen})}},{key:"toggleEditModal",value:function(){this.setState({isEditModalOpen:!this.state.isEditModalOpen})}},{key:"render",value:function(){var e,t,a=this;return null===this.props.auth.userinfo?n.a.createElement("div",{className:"row heading"},"Failed to fetch. Please reload the page"):n.a.createElement("div",{className:"container mt-6 home text-center align-self-center"},n.a.createElement("div",{className:"row text-center justify-content-center mt-2"},n.a.createElement(z.a,{className:"heading"},n.a.createElement(me.a,null,n.a.createElement("h3",null,"My Profile")),n.a.createElement(W.a,null,n.a.createElement(Q.a,null,n.a.createElement("h5",null," First Name : ","          "+this.props.auth.userinfo.firstname),n.a.createElement("h5",null," Last Name : ","          "+this.props.auth.userinfo.lastname),n.a.createElement("h5",null," Email : ","          "+this.props.auth.userinfo.email),n.a.createElement("h5",null," Username : ","          "+this.props.auth.user.username),n.a.createElement("h5",null," Address : ","Room No.          "+this.props.auth.userinfo.block+"-"+this.props.auth.userinfo.room+", "+this.props.auth.userinfo.hostel),this.props.auth.userinfo.showroom?" (Publicly Visible)":n.a.createElement(n.a.Fragment,null),n.a.createElement("h5",null," Contact No. : ","  +91-"+this.props.auth.userinfo.phone),this.props.auth.userinfo.showphone?" (Publicly Visible)":n.a.createElement(n.a.Fragment,null),n.a.createElement("h5",null," Facebook Profile Link : ",n.a.createElement("a",{href:"https://www.facebook.com/"+this.props.auth.userinfo.facebookProfile},n.a.createElement("span",{className:"fa fa-facebook"}))),this.props.auth.userinfo.showfacebook?" (Publicly Visible)":n.a.createElement(n.a.Fragment,null)),n.a.createElement(p.a,{color:"info",onClick:this.toggleEditModal},"Edit \xa0","   ",n.a.createElement("span",{className:"fa fa-pencil"}))," ",this.props.auth.userinfo.admin?n.a.createElement("div",null):n.a.createElement(p.a,{color:"info",onClick:this.togglePasswordModal},"Change Password \xa0","   ",n.a.createElement("span",{className:"fa fa-key"}))))),n.a.createElement(N.a,{isOpen:this.state.isEditModalOpen,toggle:this.toggleEditModal},n.a.createElement(k.a,{toggle:this.toggleEditModal},"Edit Profile"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{model:"user",onSubmit:function(e){a.toggleEditModal(),a.props.editUser(a.props.auth.userinfo._id,e.firstname,e.lastname,e.room,e.email,e.block,e.hostel,e.phone,e.facebookProfile,e.showfacebook,e.showphone,e.showroom)}},n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"username"},"Username"),n.a.createElement(T.Control.text,{model:".username",id:"username",name:"username",defaultValue:this.props.auth.user.username,className:"form-control",placeholder:"Username",validators:{required:ge,minLength:be(3),maxLength:fe(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".username",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"firstname"},"First Name"),n.a.createElement(T.Control.text,{model:".firstname",id:"firstname",name:"firstname",defaultValue:this.props.auth.userinfo.firstname,className:"form-control",placeholder:"firstname",validators:{required:ge,minLength:be(3),maxLength:fe(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".firstname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"lastname"},"Last Name"),n.a.createElement(T.Control.text,{model:".lastname",id:"lastname",name:"lastname",defaultValue:this.props.auth.userinfo.lastname,className:"form-control",placeholder:"lastname",validators:{required:ge,minLength:be(3),maxLength:fe(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".lastname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"hostel"},"Hostel"),n.a.createElement(T.Control.select,{model:".hostel",id:"hostel",className:"form-control",defaultValue:this.props.auth.userinfo.hostel},n.a.createElement("option",null,"Jasper")," ",n.a.createElement("option",null,"Amber"),n.a.createElement("option",null,"Topaz")," ",n.a.createElement("option",null,"Sapphire"),n.a.createElement("option",null,"Diamond")," ",n.a.createElement("option",null,"Emerald"),n.a.createElement("option",null,"Ruby")," ",n.a.createElement("option",null,"Rosaline"))),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"block"},"Block"),n.a.createElement(T.Control.select,{model:".block",id:"block",className:"form-control",defaultValue:this.props.auth.userinfo.block},n.a.createElement("option",null,"A")," ",n.a.createElement("option",null,"B"),n.a.createElement("option",null,"C")," ",n.a.createElement("option",null,"D"))),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"room"},"Room No."),n.a.createElement(T.Control.text,{model:".room",id:"room",name:"room",defaultValue:this.props.auth.userinfo.room,className:"form-control",placeholder:"room",validators:{required:ge,maxLength:fe(4),isNumber:ve}}),n.a.createElement(T.Errors,{className:"text-danger",model:".room",show:"touched",messages:{required:"Required",maxLength:" Must be 4 characters or less",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"email"},"E-mail"),n.a.createElement(T.Control.text,{model:".email",id:"email",name:"email",defaultValue:this.props.auth.userinfo.email,className:"form-control",placeholder:"email",validators:{required:ge,validEmail:we}}),n.a.createElement(T.Errors,{className:"text-danger",model:".email",show:"touched",messages:{required:"Required",validEmail:" Enter a valid email"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"phone"},"Contact No."),n.a.createElement(T.Control.text,{model:".phone",id:"phone",name:"phone",defaultValue:this.props.auth.userinfo.phone,className:"form-control",placeholder:"phone",validators:{required:ge,minLength:be(10),maxLength:fe(10),isNumber:ve}}),n.a.createElement(T.Errors,{className:"text-danger",model:".phone",show:"touched",messages:{required:"Required",minLength:" Should be a valid 10 digit no.",maxLength:" Donot write country code",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(P.a,null,n.a.createElement(I.a,{md:12},n.a.createElement(S.a,{htmlFor:"facebookProfile"},"Facebook Profile Link (Optional)")),n.a.createElement(I.a,{md:6},n.a.createElement(F.a,{addonType:"prepend"},"https://www.facebook.com/")),n.a.createElement(I.a,{md:6},n.a.createElement(T.Control.text,{model:".facebookProfile",id:"facebookProfile",name:"facebookProfile",defaultValue:this.props.auth.userinfo.facebookProfile,className:"form-control",placeholder:"facebookProfile",validators:{minLength:(t=15,function(e){return!e||e.length>=t}),maxLength:fe(30)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".facebookProfile",show:"touched",messages:{minLength:" Should have at least 15 characters, otherwise donot enter this field",maxLength:" Should not exceed 30 characters"}})))),n.a.createElement(P.a,null,n.a.createElement(S.a,null," Check the info. you want to keep public :")),n.a.createElement(P.a,null,n.a.createElement(I.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showroom",id:"showroom",name:"showroom",defaultValue:this.props.auth.userinfo.showroom,className:"form-control"}),n.a.createElement(S.a,{check:!0}," Room Info"))),n.a.createElement(I.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showphone",id:"showphone",name:"showphone",className:"form-control",defaultValue:this.props.auth.userinfo.showphone}),n.a.createElement(S.a,{check:!0,htmlFor:"showphone"}," Contact No."))),n.a.createElement(I.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showfacebook",id:"showfacebook",name:"showfacebook",className:"form-control",defaultValue:this.props.auth.userinfo.showfacebook}),n.a.createElement(S.a,{check:!0,htmlFor:"showfacebook"}," Facebook Profile")))),n.a.createElement("br",null),n.a.createElement(O.a,null,n.a.createElement(p.a,{type:"submit",value:"submit",color:"warning"},"Submit"))))),n.a.createElement(N.a,{isOpen:this.state.isPasswordModalOpen,toggle:this.togglePasswordModal},n.a.createElement(k.a,{toggle:this.togglePasswordModal},"Change Password"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{model:"passwordform",onSubmit:function(e){e.newpassword===e.confirm?(a.togglePasswordModal(),a.props.editPassword(a.props.auth.userinfo._id,a.props.auth.user.username,e.newpassword)):alert("Your passwords didn't match. Please try again")}},n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"password"},"Current Password"),n.a.createElement(T.Control.password,{model:".password",id:"password",name:"password",className:"form-control",placeholder:"password",validators:{required:ge,minLength:be(6),maxLength:fe(20),matchcreds:(e=this.props.auth.user.password,function(t){return t===e})}}),n.a.createElement(T.Errors,{className:"text-danger",model:".password",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less",matchcreds:" Enter the correct password"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"newpassword"},"New password"),n.a.createElement(T.Control.password,{model:".newpassword",id:"newpassword",name:"newpassword",className:"form-control",placeholder:"New Password",validators:{required:ge,minLength:be(6),maxLength:fe(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".newpassword",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(S.a,{htmlFor:"confirm"},"Confirm Password"),n.a.createElement(T.Control.password,{model:".confirm",id:"confirm",name:"confirm",className:"form-control",placeholder:"Re-enter the new password",validators:{required:ge,minLength:be(6),maxLength:fe(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".confirm",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(p.a,{type:"submit",value:"submit",color:"primary"},"Submit")))))}}]),t}(r.Component),ke=a(41),ye=a(32),xe="https://lib-manage.herokuapp.com/api/",Oe=function(){return{type:"PRODUCTS_LOADING"}},Se=function(e){return{type:"PRODUCTS_FAILED",payload:e}},Me=function(e){return{type:"ADD_PRODUCTS",payload:e}},Le=function(e){return{type:"ADD_USERS",payload:e}},Ce=function(){return{type:"USERS_LOADING"}},De=function(e){return{type:"EDIT_PRODUCT",payload:e}},je=function(e){return{type:"EDIT_USER",payload:e}},Pe=function(e){return{type:"EDIT_PASSWORD",payload:e}},Ie=function(e){return{type:"DELETE_PRODUCT",payload:e}},Fe=function(){return{type:"BIDS_LOADING"}},_e=function(e){return{type:"BIDS_FAILED",payload:e}},Te=function(e){return{type:"ADD_BIDS",payload:e}},Re=function(e){return{type:"USERS_FAILED",payload:e}},Ae=function(){return function(e){e({type:"LOGOUT_REQUEST"}),localStorage.removeItem("token"),localStorage.removeItem("creds"),localStorage.removeItem("userinfo"),localStorage.removeItem("viewed"),e({type:"LOGOUT_SUCCESS"})}},Ue=function(){return function(e){e(qe(!0));var t="Bearer "+localStorage.getItem("token");return fetch(xe+"favorites",{headers:{Authorization:t}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(Ve(t))}).catch(function(t){return e(Be(t.message))})}},qe=function(){return{type:"FAVORITES_LOADING"}},Be=function(e){return{type:"FAVORITES_FAILED",payload:e}},Ve=function(e){return{type:"ADD_FAVORITES",payload:e}},Ge=function(e){return e&&e.length},Je=function(e){return!!e},ze=function(e){return function(t){return!t||t<=e}},Ye=function(e){return function(t){return t&&t>=e}},We=function(e){return!isNaN(Number(e))},Ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isDeleteModalOpen:!1,isEditModalOpen:!1,selectedProduct:null,bid:!1},a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(m.a)(a)),a.toggleEditModal=a.toggleEditModal.bind(Object(m.a)(a)),a.changeSelected=a.changeSelected.bind(Object(m.a)(a)),a.handleSubmitEdit=a.handleSubmitEdit.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProducts(),this.props.auth.isAuthenticated&&this.props.fetchBids(!this.props.auth.userinfo.admin),this.props.auth.isAuthenticated&&this.props.auth.userinfo.admin&&this.props.fetchUsers()}}]),Object(d.a)(t,[{key:"handleSubmitEdit",value:function(e){this.toggleEditModal(),this.props.editProduct(this.state.selectedProduct._id,e.name,e.cat,e.description,e.price,e.bid,e.max_bid,e.incr,e.images)}},{key:"changeSelected",value:function(e){this.setState({selectedProduct:this.props.products.products.filter(function(t){return t._id===e})[0]}),this.setState({bid:this.props.products.products.filter(function(t){return t._id===e})[0].bid})}},{key:"toggleDeleteModal",value:function(){this.setState({isDeleteModalOpen:!this.state.isDeleteModalOpen})}},{key:"toggleEditModal",value:function(){this.setState({isEditModalOpen:!this.state.isEditModalOpen})}},{key:"render",value:function(){var e,t,a,r=this;return n.a.createElement("div",{className:"App"},n.a.createElement(G,{auth:this.props.auth,loginUser:this.props.loginUser,logoutUser:this.props.logoutUser,registerUser:this.props.registerUser}),n.a.createElement(ke.d,{location:this.props.location},n.a.createElement(ke.b,{exact:!0,path:"/home",component:function(){return n.a.createElement(oe,{products:r.props.products.products,productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess})}}),n.a.createElement(ke.b,{exact:!0,path:"/search",component:function(){return n.a.createElement(ue,{products:r.props.products.products,productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/books",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Books"===e.cat}),title:"Books",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/stationary",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Stationary"===e.cat}),title:"Stationary",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/electronics",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Electronic Gadgets"===e.cat}),title:"Electronic Gadgets",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/bicycles",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Bicycles"===e.cat}),title:"Bicycles",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/clothes",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Clothes"===e.cat}),title:"Clothes",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/sports",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Sports"===e.cat}),title:"Sports",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/others",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Others"===e.cat}),title:"Others",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(ke.b,{exact:!0,path:"/products/:productId",component:function(e){var t=e.match,a=r.props.products.products.filter(function(e){return e._id===t.params.productId})[0],o=null;return void 0===a&&(o="\n\n Error 404 :  Product not found"),n.a.createElement(pe,{product:a,isLoading:r.props.products.isLoading,errMess:r.props.products.errMess||o,toggleEditModal:r.toggleEditModal,changeSelected:r.changeSelected,increaseView:r.props.increaseView,user:r.props.auth,addToView:r.addToView})}}),n.a.createElement(ke.b,{path:"/products/:productId/owner",component:function(e){var t=e.match;console.log(t.params.productId);var a=r.props.products.products.filter(function(e){return e._id===t.params.productId})[0].owner,o=null;return void 0===a&&(o="\n\n Error 404 :  User not found"),n.a.createElement(Ee,{user:a,isLoading:r.props.products.isLoading,errMess:r.props.products.errMess||o})}}),n.a.createElement(function(e){var t=e.component,a=Object(s.a)(e,["component"]);return n.a.createElement(ke.b,Object.assign({},a,{render:function(e){return r.props.auth.isAuthenticated?n.a.createElement(t,e):n.a.createElement(ke.a,{to:{pathname:"/home",state:{from:e.location}}})}}))},{exact:!0,path:"/profile",component:function(){return n.a.createElement(Ne,{auth:r.props.auth,editUser:r.props.editUser,editPassword:r.props.editPassword})}}),n.a.createElement(ke.b,{path:"/users/:userId",component:function(e){var t=e.match,a=r.props.users.users.filter(function(e){return e._id===t.params.userId})[0],o=null;return void 0===a&&(o="\n\n Error 404 :  User not found"),n.a.createElement(Ee,{user:a,isLoading:r.props.users.isLoading,errMess:r.props.users.errMess||o})}}),n.a.createElement(ke.a,{to:"/home"})),n.a.createElement(J,null),n.a.createElement(N.a,{isOpen:this.state.isDeleteModalOpen,toggle:this.toggleDeleteModal},n.a.createElement(k.a,{toggle:this.toggleDeleteModal},"Confirm Deletion"),n.a.createElement(y.a,null,"Product details : ",n.a.createElement("br",null),n.a.createElement("br",null),"Name : ",this.state.selectedProduct?this.state.selectedProduct.name:""," ",n.a.createElement("br",null),"Category : ",this.state.selectedProduct?this.state.selectedProduct.cat:""," ",n.a.createElement("br",null),this.state.selectedProduct?this.state.selectedProduct.bid?"Bidding Range : "+this.state.selectedProduct.price+" - "+this.state.selectedProduct.max_bid:"Price : "+this.state.selectedProduct.price:""," ",n.a.createElement("br",null)," ",n.a.createElement("br",null),"Are you sure you wish to delete this product ? ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(p.a,{color:"danger",onClick:function(){r.props.deleteProduct(r.state.selectedProduct._id),r.toggleDeleteModal()}},"Yes")," ",n.a.createElement(p.a,{color:"warning",onClick:function(){r.toggleDeleteModal()}},"No"))),this.state.selectedProduct?n.a.createElement(N.a,{isOpen:this.state.isEditModalOpen,toggle:this.toggleEditModal},n.a.createElement(k.a,{toggle:this.toggleEditModal},"Edit a product"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{onSubmit:function(e){return r.handleSubmitEdit(e)}},n.a.createElement(P.a,{className:"form-group"},n.a.createElement(S.a,{htmlFor:"name",md:2},"Name "),n.a.createElement(I.a,{md:10},n.a.createElement(T.Control.text,{model:".name",id:"name",name:"name",defaultValue:this.state.selectedProduct.name,className:"form-control",validators:{required:Ge,minLength:(a=3,function(e){return e&&e.length>=a}),uniqueName:(t=this.state.selectedProduct.name,function(e){return!r.props.products.products.some(function(t){return t.name===e})||e===t})}}),n.a.createElement(T.Errors,{className:"text-danger",model:".name",show:"touched",messages:{required:"Required",minLength:"Must be greater than 2 characters",uniqueName:" There exists a product with this name already"}}))),n.a.createElement(P.a,{className:"form-group"},n.a.createElement(I.a,{md:4},n.a.createElement(T.Control.checkbox,{model:".bid",id:"bid",name:"bid",className:"form-control",disabled:!1,checked:this.state.bid,defaultChecked:this.state.bid,onChange:function(e){r.setState({bid:!r.state.bid})}})),n.a.createElement(I.a,{md:8},n.a.createElement(S.a,{check:!0,htmlFor:"bid"}," Allow Bidding"))),this.state.bid?n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{className:"form-group"},n.a.createElement(S.a,{htmlFor:"price",md:4},"Minimum Price (in \u20b9) "),n.a.createElement(I.a,{md:8},n.a.createElement(T.Control.text,{model:".price",id:"price",name:"price",defaultValue:this.state.selectedProduct.price,className:"form-control",validators:{requiredNum:Je,minVal:Ye(10),isNumber:We}}),n.a.createElement(T.Errors,{className:"text-danger",model:".price",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(P.a,{className:"form-group"},n.a.createElement(S.a,{htmlFor:"max_bid",md:4},"Maximum Price (in \u20b9) "),n.a.createElement(I.a,{md:8},n.a.createElement(T.Control.text,{model:".max_bid",id:"max_bid",name:"max_bid",defaultValue:this.state.selectedProduct.max_bid,className:"form-control",validators:{requiredNum:Je,maxVal:ze(1e5),isNumber:We}}),n.a.createElement(T.Errors,{className:"text-danger",model:".max_bid",show:"touched",messages:{requiredNum:" Required",maxVal:" Must be less than 100000 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(P.a,{className:"form-group"},n.a.createElement(S.a,{htmlFor:"incr",md:4},"Minimum Increment (in \u20b9) "),n.a.createElement(I.a,{md:8},n.a.createElement(T.Control.text,{model:".incr",id:"incr",name:"incr",defaultValue:this.state.selectedProduct.incr,className:"form-control",validators:{requiredNum:Je,minVal:Ye(10),maxVal:ze(1e4),multiple:(e=10,function(t){return!t||t%e===0}),isNumber:We}}),n.a.createElement(T.Errors,{className:"text-danger",model:".incr",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",maxVal:" Must be less than 10000 Rs.",multiple:" Must be a multiple of 10",isNumber:" Must be a number"}})))):n.a.createElement(P.a,{className:"form-group"},n.a.createElement(S.a,{htmlFor:"price",md:4},"Price (in \u20b9) "),n.a.createElement(I.a,{md:8},n.a.createElement(T.Control.text,{model:".price",id:"price",name:"price",defaultValue:this.state.selectedProduct.price,className:"form-control",validators:{requiredNum:Je,minVal:Ye(10),isNumber:We}}),n.a.createElement(T.Errors,{className:"text-danger",model:".price",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(P.a,{className:"form-group"},n.a.createElement(I.a,null,n.a.createElement(S.a,{htmlFor:"cat"},"Category"),n.a.createElement(T.Control.select,{model:".cat",id:"cat",className:"form-control",defaultValue:this.state.selectedProduct.cat},n.a.createElement("option",null,"Stationary")," ",n.a.createElement("option",null,"Electronic Gadgets"),n.a.createElement("option",null,"Bicycles")," ",n.a.createElement("option",null,"Clothes"),n.a.createElement("option",null,"Sports")," ",n.a.createElement("option",null,"Books"),n.a.createElement("option",null,"Others")))),n.a.createElement(P.a,{className:"form-group"},n.a.createElement(S.a,{htmlFor:"description",md:2},"Description"),n.a.createElement(I.a,{md:10},n.a.createElement(T.Control.textarea,{model:".description",id:"description",name:"description",rows:"12",defaultValue:this.state.selectedProduct.description,className:"form-control"}))),n.a.createElement(P.a,null,n.a.createElement(I.a,{className:"ml-auto mr-auto"},n.a.createElement(p.a,{type:"submit",className:"bg-primary"},"Submit")))))):n.a.createElement(n.a.Fragment,null))}}]),t}(r.Component),He=Object(ke.g)(Object(ye.connect)(function(e){return{products:e.products,auth:e.auth,bids:e.bids,users:e.users,favorites:e.favorites}},function(e){return{fetchProducts:function(){e(function(e){return e(Oe(!0)),fetch(xe+"products").then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(Me(t))}).catch(function(t){return e(Se(t.message))})})},fetchBids:function(){e(function(e){var t="Bearer "+localStorage.getItem("token");return e(Fe(!0)),fetch(xe+"bids",{headers:{Authorization:t}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(Te(t))}).catch(function(t){return e(_e(t.message))})})},fetchUsers:function(){e(function(e){return e(Ce(!0)),fetch(xe+"users").then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(Le(t))}).catch(function(t){return e(Re(t.message))})})},increaseView:function(t,a){return e(function(e,t){return function(a){var r=JSON.parse(localStorage.getItem("viewed"));if(!r||-1===r.indexOf(e))return r?r.push(e):r=[e],localStorage.setItem("viewed",JSON.stringify(r)),fetch(xe+"products/views/"+e,{method:"POST",body:JSON.stringify({views:t+1}),headers:{"Content-Type":"application/json"}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return a(De(e))}).catch(function(e){alert("Your product could not be edited\nError: "+e.message)})}}(t,a))},postProduct:function(t,a,r,n,o,l,s,c){return e(function(e,t,a,r,n,o,l,s){return function(c){var i={name:e,cat:t,description:a,price:r,max_bid:o,bid:n,incr:l,images:s},u="Bearer "+localStorage.getItem("token");return fetch(xe+"products",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:u}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return alert("Product added successfully"),c({type:"ADD_PRODUCT",payload:e})}).catch(function(e){alert("Your product could not be added\nError: "+e.message)})}}(t,a,r,n,o,l,s,c))},editProduct:function(t,a,r,n,o,l,s,c,i){return e(function(e,t,a,r,n,o,l,s,c){return function(i){var u={name:t,cat:a,description:r,price:n,max_bid:l,bid:o,incr:s,images:c},m="Bearer "+localStorage.getItem("token");return fetch(xe+"products/"+e,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:m}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return i(De(e))}).catch(function(e){alert("Your product could not be edited\nError: "+e.message)})}}(t,a,r,n,o,l,s,c,i))},deleteProduct:function(t){return e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");return fetch(xe+"products/"+e,{method:"DELETE",headers:{Authorization:a}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return t(Ie(e))}).catch(function(e){alert("Your product could not be deleted\nError: "+e.message)})}}(t))},loginUser:function(t){return e(function(e){return function(t){return t(function(e){return{type:"LOGIN_REQUEST",creds:e}}(e)),fetch(xe+"users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(a){if(!a.success){var r=new Error("Error "+a.status);throw r.response=a,r}localStorage.setItem("token",a.token),localStorage.setItem("creds",JSON.stringify(e)),localStorage.setItem("viewed",JSON.stringify([])),localStorage.setItem("userinfo",JSON.stringify(a.userinfo)),Ue(),setTimeout(function(){Ae(),alert("Your JWT token has expired. \nPlease log in again to continue.")},36e5),t(function(e){return{type:"LOGIN_SUCCESS",token:e.token,userinfo:e.userinfo}}(a))}).catch(function(e){return alert(e.message+"\n Username and password didn't match"),t({type:"LOGIN_FAILURE",message:e.message})})}}(t))},logoutUser:function(){return e(Ae())},registerUser:function(t){return e(function(e){return function(t){return fetch(xe+"users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){if(!e.success){var t=new Error("Error "+e.status);throw t.response=e,t}alert("Registration Successful")}).catch(function(e){return alert(e.message+"\nMay be someone has already registered with that username or email \nTry Entering a new username or email ")})}}(t))},editUser:function(t,a,r,n,o,l,s,c,i,u,m,d){return e(function(e,t,a,r,n,o,l,s,c,i,u,m){return function(d){var h={firstname:t,lastname:a,room:r,email:n,block:o,hostel:l,phone:s,facebookProfile:c,showfacebook:i,showphone:u,showroom:m},p="Bearer "+localStorage.getItem("token");return fetch(xe+"users/"+e,{method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json",Authorization:p}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return localStorage.removeItem("userinfo"),localStorage.setItem("userinfo",JSON.stringify(e)),d(je(e))}).catch(function(e){alert("Your profile could not be edited\nError: "+e.message+"\n May be someone has already registered with that Email ID")})}}(t,a,r,n,o,l,s,c,i,u,m,d))},editPassword:function(t,a,r){return e(function(e,t,a){return function(r){var n="Bearer "+localStorage.getItem("token");return fetch(xe+"users/password/"+e,{method:"PUT",body:JSON.stringify({password:a}),headers:{"Content-Type":"application/json",Authorization:n}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText+"\n ");throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){var n={username:t,password:a};return localStorage.removeItem("creds"),localStorage.setItem("creds",JSON.st0ringify(n)),alert("Password changed successfully"),r(Pe(n))}).catch(function(e){alert("Your password could not be changed\nError: "+e.message)})}}(t,a,r))},postBid:function(t,a,r){return e(function(e,t,a){return function(r){var n={product:e,bidder:t,amount:a},o="Bearer "+localStorage.getItem("token");return fetch(xe+"bids",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:o}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return alert("Product bidd successfully"),r({type:"ADD_BID",payload:e})}).catch(function(e){alert("Product could not be bidd\nError: "+e.message+"\n")})}}(t,a,r))},freezeBid:function(t){return e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");return fetch(xe+"bids/"+e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({sold:!0})}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return alert("Product returned successfully"),t({type:"FREEZE_BID",payload:e})}).catch(function(e){alert("The product could not be returned\nError: "+e.message)})}}(t))},fetchFavorites:function(){return e(Ue())},postFavorite:function(t){return e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");return fetch(xe+"favorites/"+e,{method:"POST",body:JSON.stringify({_id:e}),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){console.log("Favorite Added",e),t(Ve(e))}).catch(function(e){return t(Be(e.message))})}}(t))},deleteFavorite:function(t){return e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");return fetch(xe+"favorites/"+e,{method:"DELETE",headers:{Authorization:a},credentials:"same-origin"}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){console.log("Favorite Deleted",e),t(Ve(e))}).catch(function(e){return t(Be(e.message))})}}(t))}}})(Ze)),Qe=a(29),$e=a(107),Xe=a(9),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return Object(Xe.a)({},e,{isLoading:!1,errMess:null,products:t.payload});case"PRODUCTS_LOADING":return Object(Xe.a)({},e,{isLoading:!0,errMess:null,products:[]});case"PRODUCTS_FAILED":return Object(Xe.a)({},e,{isLoading:!1,errMess:t.payload});case"ADD_PRODUCT":var a=t.payload;return Object(Xe.a)({},e,{products:e.products.concat(a)});case"EDIT_PRODUCT":var r=t.payload;return Object(Xe.a)({},e,{products:e.products.map(function(e){return e._id===r._id?r:e})});case"DELETE_PRODUCT":var n=t.payload;return Object(Xe.a)({},e,{products:e.products.filter(function(e){return e._id!==n._id})});default:return e}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("creds")?JSON.parse(localStorage.getItem("creds")):null,userinfo:localStorage.getItem("userinfo")?JSON.parse(localStorage.getItem("userinfo")):null,errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(Xe.a)({},e,{isLoading:!0,isAuthenticated:!1,user:t.creds});case"LOGIN_SUCCESS":return Object(Xe.a)({},e,{isLoading:!1,isAuthenticated:!0,errMess:"",token:t.token,userinfo:t.userinfo});case"LOGIN_FAILURE":return Object(Xe.a)({},e,{isLoading:!1,isAuthenticated:!1,errMess:t.message});case"LOGOUT_REQUEST":return Object(Xe.a)({},e,{isLoading:!0,isAuthenticated:!0});case"LOGOUT_SUCCESS":return Object(Xe.a)({},e,{isLoading:!1,isAuthenticated:!1,token:"",user:null,userinfo:null});case"EDIT_USER":return Object(Xe.a)({},e,{userinfo:t.payload});case"EDIT_PASSWORD":return Object(Xe.a)({},e,{user:t.payload});default:return e}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,bids:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BIDS":return Object(Xe.a)({},e,{isLoading:!1,errMess:null,bids:t.payload});case"BIDS_LOADING":return Object(Xe.a)({},e,{isLoading:!0,errMess:null,bids:[]});case"BIDS_FAILED":return Object(Xe.a)({},e,{isLoading:!1,errMess:t.payload});case"ADD_BID":var a=t.payload;return Object(Xe.a)({},e,{bids:e.bids.concat(a)});case"FREEZE_BID":var r=t.payload;return Object(Xe.a)({},e,{bids:e.bids.map(function(e){return e._id===r._id?r:e})});default:return e}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERS":return Object(Xe.a)({},e,{isLoading:!1,errMess:null,users:t.payload});case"USERS_LOADING":return Object(Xe.a)({},e,{isLoading:!0,errMess:null,users:[]});case"USERS_FAILED":return Object(Xe.a)({},e,{isLoading:!1,errMess:t.payload});default:return e}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,favorites:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITES":return Object(Xe.a)({},e,{isLoading:!1,errMess:null,favorites:t.payload});case"FAVORITES_LOADING":return Object(Xe.a)({},e,{isLoading:!0,errMess:null,favorites:null});case"FAVORITES_FAILED":return Object(Xe.a)({},e,{isLoading:!1,errMess:t.payload,favorites:null});default:return e}},nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qe.compose,ot=(a(172),a(173),a(174),Object(Qe.createStore)(Object(Qe.combineReducers)({products:Ke,auth:et,bids:tt,users:at,favorites:rt}),nt(Object(Qe.applyMiddleware)($e.a))));var lt=function(){return n.a.createElement(ye.Provider,{store:ot},n.a.createElement(_.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(He,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[109,1,2]]]);
//# sourceMappingURL=main.38dfd063.chunk.js.map